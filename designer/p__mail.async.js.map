{"version":3,"file":"p__mail.async.js","mappings":"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","sources":["webpack://playground/./src/helpers/mock-files.ts","webpack://playground/./src/helpers/index.tsx","webpack://playground/./src/components/foo-setter.tsx","webpack://playground/./src/helpers/mail-files.ts","webpack://playground/./src/pages/mail.tsx","webpack://playground/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://playground/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://playground/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://playground/./node_modules/@babel/runtime/helpers/slicedToArray.js"],"sourcesContent":["const packageJson = {\n  name: 'demo',\n  private: true,\n  dependencies: {\n    '@music163/antd': '0.2.2',\n    '@music163/tango-boot': '0.2.5',\n    react: '17.0.2',\n    'react-dom': '17.0.2',\n    'prop-types': '15.7.2',\n    tslib: '2.5.0',\n  },\n};\n\nconst tangoConfigJson = {\n  designerConfig: {\n    autoGenerateComponentId: true,\n  },\n  packages: {\n    react: {\n      version: '17.0.2',\n      library: 'React',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react@{{version}}/umd/react.development.js'],\n    },\n    'react-dom': {\n      version: '17.0.2',\n      library: 'ReactDOM',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react-dom@{{version}}/umd/react-dom.development.js'],\n    },\n    'react-is': {\n      version: '16.13.1',\n      library: 'ReactIs',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react-is@{{version}}/umd/react-is.production.min.js'],\n    },\n    'styled-components': {\n      version: '5.3.5',\n      library: 'styled',\n      type: 'dependency',\n      resources: ['https://unpkg.com/styled-components@{{version}}/dist/styled-components.min.js'],\n    },\n    moment: {\n      version: '2.29.4',\n      library: 'moment',\n      type: 'dependency',\n      resources: ['https://unpkg.com/moment@{{version}}/moment.js'],\n    },\n    '@music163/tango-boot': {\n      description: '云音乐低代码运行时框架',\n      version: '0.2.5',\n      library: 'TangoBoot',\n      type: 'baseDependency',\n      resources: ['https://unpkg.com/@music163/tango-boot@{{version}}/dist/boot.js'],\n      // resources: ['http://localhost:9001/boot.js'],\n    },\n    '@music163/antd': {\n      description: '云音乐低代码中后台应用基础物料',\n      version: '0.2.2',\n      library: 'TangoAntd',\n      type: 'baseDependency',\n      resources: [\n        'https://unpkg.com/@music163/antd@{{version}}/dist/index.js',\n        'https://unpkg.com/antd@4.24.13/dist/antd.css',\n      ],\n      designerResources: [\n        'https://unpkg.com/@music163/antd@{{version}}/dist/designer.js',\n        'https://unpkg.com/antd@4.24.13/dist/antd.css',\n      ],\n    },\n  },\n};\n\nconst helperCode = `\nexport function registerComponentPrototype(proto) {\n  if (!proto) return;\n  if (!window.localTangoComponentPrototypes) {\n    window.localTangoComponentPrototypes = {};\n  }\n  if (proto.name) {\n    window.localTangoComponentPrototypes[proto.name] = proto;\n  }\n}\n`;\n\nconst routesCode = `\nimport Index from \"./pages/index\";\n\nconst routes = [\n  {\n    path: '/',\n    exact: true,\n    component: Index\n  },\n];\n\nexport default routes;\n`;\n\nconst storeIndexCode = `\nexport { default as app } from './app';\nexport { default as counter } from './counter';\n`;\n\nconst entryCode = `\nimport { runApp } from '@music163/tango-boot';\nimport routes from './routes';\nimport './services';\nimport './stores';\nimport './index.less';\n\nrunApp({\n  boot: {\n    mountElement: document.querySelector('#root'),\n    qiankun: false,\n  },\n\n  router: {\n    type: 'browser',\n    config: routes,\n  },\n});\n`;\n\nconst storeCounter = `\nimport { defineStore } from '@music163/tango-boot';\n\nconst counter = defineStore({\n  // state\n  num: 0,\n\n  // action\n  increment: () => counter.num++,\n\n  decrement: () => {\n    counter.num--;\n  },\n}, 'counter');\n\nexport default counter;\n`;\n\nconst viewHomeCode = `\nimport React from \"react\";\nimport { definePage } from \"@music163/tango-boot\";\nimport {\n  Page,\n  Section,\n  Button,\n  Input,\n  FormilyForm,\n  FormilyFormItem,\n} from \"@music163/antd\";\nimport { Space } from \"@music163/antd\";\nimport { LocalButton } from \"../components\";\nclass App extends React.Component {\n  render() {\n    return (\n      <Page title={tango.stores.app.title}>\n        <Section tid=\"section1\" title=\"Section Title\">\n          your input: <Input tid=\"input1\" defaultValue=\"hello\" />\n          copy input: <Input value={tango.page.input1?.value} />\n        </Section>\n        <Section tid=\"section2\">\n          <Space tid=\"space1\">\n            <LocalButton />\n            <Button tid=\"button1\">button</Button>\n          </Space>\n        </Section>\n        <Section title=\"区块标题\" tid=\"section3\">\n          <FormilyForm tid=\"formilyForm1\">\n            <FormilyFormItem name=\"input1\" component=\"Input\" label=\"表单项\" />\n            <FormilyFormItem name=\"select1\" component=\"Select\" label=\"表单项\" />\n          </FormilyForm>\n        </Section>\n        <Section title=\"原生 DOM\" tid=\"section4\">\n          <div\n            style={{\n              border: \"1px solid #ccc\",\n              borderRadius: \"5px\",\n              backgroundColor: \"#f4f4f4\",\n            }}\n          >\n            <form onSubmit={tango.stores.app.submitForm} style={{\n              padding: \"10px\",\n            }}>\n              <div>\n                <label>Username:</label>\n                <input\n                  type=\"text\"\n                  id=\"username\"\n                  name=\"username\"\n                  style={{ margin: \"5px\" }}\n                />\n              </div>\n              <div>\n                <label>Password:</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  style={{ margin: \"5px\" }}\n                />\n              </div>\n              <div>\n                <label>Role:</label>\n                <select id=\"role\" name=\"role\" style={{ margin: \"5px\" }}>\n                  <option value=\"admin\">Admin</option>\n                  <option value=\"user\">User</option>\n                </select>\n              </div>\n              <div>\n                <button\n                  type=\"submit\"\n                  style={{\n                    marginTop: '5px',\n                    padding: \"3px 10px\",\n                    backgroundColor: \"#007bff\",\n                    color: \"#fff\",\n                    border: \"none\",\n                    borderRadius: \"5px\",\n                  }}\n                >\n                  Submit\n                </button>\n              </div>\n            </form>\n          </div>\n        </Section>\n      </Page>\n    );\n  }\n}\nexport default definePage(App);\n`;\n\nconst componentsButtonCode = `\nimport React from 'react';\nimport { registerComponentPrototype } from '../utils';\n\nexport default function MyButton(props) {\n  return <button {...props}>my button</button>\n}\n\nregisterComponentPrototype({\n  name: 'LocalButton',\n  title: 'Local Button',\n  exportType: 'namedExport',\n  package: '/src/components',\n  props: [\n    { name: 'background', title: '背景色', setter: 'colorSetter'  },\n  ],\n});\n`;\n\nconst componentsInputCode = `\nimport React from 'react';\nimport { registerComponentPrototype } from '../utils';\n\nexport default function MyInput(props) {\n  return <input {...props} />;\n}\n\nregisterComponentPrototype({\n  name: 'LocalInput',\n  title: 'Local Input',\n  exportType: 'namedExport',\n  package: '/src/components',\n  props: [\n    { name: 'color', title: '文本色', setter: 'colorSetter'  },\n  ],\n});\n`;\n\nconst componentsEntryCode = `\nexport { default as LocalButton } from './button';\nexport { default as LocalInput } from './input';\n`;\n\nconst storeApp = `\nimport { defineStore } from '@music163/tango-boot';\n\nexport default defineStore({\n  title: 'Page Title',\n\n  array: [1, 2, 3],\n\n  test: function() {\n    console.log('test');\n  },\n\n  submitForm: function(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const username = formData.get(\"username\");\n    const password = formData.get(\"password\");\n    const role = formData.get(\"role\");\n    console.log(\"Submitted Data:\", { username, password, role });\n  }\n}, 'app');\n`;\n\nconst serviceCode = `\nimport { defineServices } from '@music163/tango-boot';\nimport './sub';\n\nexport default defineServices({\n  longLongLongLongLongLongLongLongGet: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/cc974ffbaa7a85c77f30e4ce67deb67f/api/getUserProfile',\n    formatter: res => res.data,\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  },\n  get: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/cc974ffbaa7a85c77f30e4ce67deb67f/api/getUserProfile',\n    formatter: res => res.data,\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  },\n  list: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/anchor-list-normal',\n  },\n  add: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users',\n    method: 'post',\n  },\n  update: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users',\n    method: 'post',\n  },\n  delete: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users?id=1',\n  },\n});\n`;\n\nconst subServiceCode = `\nimport { defineServices } from '@music163/tango-boot';\n\nexport default defineServices({\n  list: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/anchor-list-normal',\n  },\n}, {\n  namespace: 'sub',\n});\n`;\n\nconst lessCode = `\nbody {\n  font-size: 12px;\n}\n`;\n\nconst cssCode = `\n* {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  color: red;\n}\n`;\n\nexport const sampleFiles = [\n  { filename: '/package.json', code: JSON.stringify(packageJson) },\n  { filename: '/tango.config.json', code: JSON.stringify(tangoConfigJson) },\n  { filename: '/README.md', code: '# readme' },\n  { filename: '/src/index.less', code: lessCode },\n  { filename: '/src/style.css', code: cssCode },\n  { filename: '/src/index.js', code: entryCode },\n  { filename: '/src/pages/index.js', code: viewHomeCode },\n  { filename: '/src/components/button.js', code: componentsButtonCode },\n  { filename: '/src/components/input.js', code: componentsInputCode },\n  { filename: '/src/components/index.js', code: componentsEntryCode },\n  { filename: '/src/routes.js', code: routesCode },\n  { filename: '/src/stores/index.js', code: storeIndexCode },\n  { filename: '/src/stores/app.js', code: storeApp },\n  { filename: '/src/stores/counter.js', code: storeCounter },\n  { filename: '/src/services/index.js', code: serviceCode },\n  { filename: '/src/services/sub.js', code: subServiceCode },\n  { filename: '/src/utils/index.js', code: helperCode },\n];\n\nexport const genDefaultPage = (index: number) => ({\n  name: 'new-page',\n  code: `\n  import React from 'react';\n  import tango, { definePage } from '@music163/tango-boot';\n  import { Page, Section } from '@music163/antd';\n\n  function App() {\n    return (\n      <Page title=\"空白模板${index}\">\n        <Section></Section>\n      </Page>\n    )\n  }\n\n  export default definePage(App);\n  `,\n});\n","import React from 'react';\nimport { Box, Group } from 'coral-system';\nimport { Avatar, Space, Switch } from 'antd';\nimport { BranchesOutlined, MenuOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { registerSetter } from '@music163/tango-designer';\nimport type { IVariableTreeNode } from '@music163/tango-helpers';\nimport { FooSetter } from '../components';\n\nexport * from './mock-files';\n\nexport const bootHelperVariables: IVariableTreeNode[] = [\n  {\n    key: '$helpers',\n    title: '工具函数',\n    children: [\n      {\n        title: '设置变量值',\n        key: '() => tango.setStoreValue(\"variableName\", \"variableValue\")',\n        type: 'function',\n        help: '设置状态值，tango.setStoreValue(\"variableName\", \"variableValue\")',\n      },\n      {\n        title: '获取变量值',\n        key: '() => tango.getStoreValue(\"variableName\")',\n        type: 'function',\n        help: '获取状态值',\n      },\n      { title: '打开弹窗', key: '() => tango.openModal(\"\")', type: 'function' },\n      { title: '关闭弹窗', key: '() => tango.closeModal(\"\")', type: 'function' },\n      { title: '切换路由', key: '() => tango.navigateTo(\"/\")', type: 'function' },\n      {\n        title: '拷贝到剪贴板',\n        key: '() => tango.copyToClipboard(\"hello\")',\n        type: 'function',\n      },\n    ],\n  },\n];\n\n// 注册自定义 setter\nregisterSetter({\n  name: 'fooSetter',\n  component: FooSetter,\n});\n\n// 平台 Logo\nexport function Logo() {\n  return (\n    <Box width=\"50px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\" fontSize=\"20px\">\n      <MenuOutlined />\n    </Box>\n  );\n}\n\n// 项目信息\nexport function ProjectDetail({ name }: { name?: string }) {\n  return (\n    <Box display=\"flex\" alignItems=\"center\" columnGap=\"l\">\n      <Box className=\"ProjectName\" fontSize=\"18px\" fontWeight=\"bold\">\n        Tango Playground\n      </Box>\n      <Box className=\"BranchName\" as=\"code\" fontSize=\"14px\">\n        <BranchesOutlined /> {name || 'demo'}\n      </Box>\n    </Box>\n  );\n}\n\nexport function SidebarFooter() {\n  return (\n    <Space direction=\"vertical\" align=\"center\">\n      <QuestionCircleOutlined style={{ fontSize: 20 }} />\n      <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n    </Space>\n  );\n}\n\ninterface ActionsProps {\n  defaultChecked?: boolean;\n  // eslint-disable-next-line react/no-unused-prop-types\n  onChange?: (checked: boolean) => void;\n}\n\n// 平台核心行动点\nexport function Actions({ defaultChecked }: ActionsProps) {\n  return (\n    <Group spacingX=\"8px\">\n      <Switch defaultChecked={defaultChecked} checkedChildren=\"新版\" unCheckedChildren=\"老版\" />\n    </Group>\n  );\n}\n\nexport const menuData: any = {\n  // 常用组件\n  common: [\n    {\n      title: '基本',\n      items: [\n        'Button',\n        'ButtonGroup',\n        'ActionList',\n        'Action',\n        'Image',\n        'Text',\n        'MultilineText',\n        'Link',\n        'Title',\n        'Paragraph',\n        'Icon',\n      ],\n    },\n    {\n      title: '数据和逻辑',\n      items: ['When', 'DataProvider', 'Interval', 'Each'],\n    },\n    {\n      title: '基础布局',\n      items: [\n        'Section',\n        'Columns',\n        'Box',\n        'Divider',\n        'Space',\n        'Tabs',\n        'Toolbar',\n        'Modal',\n        'Drawer',\n        'SnippetButtonGroup',\n        'Snippet2ColumnLayout',\n        'Snippet3ColumnLayout',\n        'SnippetSuccessResult',\n      ],\n    },\n    {\n      title: '表单表格',\n      items: [\n        'XTable',\n        'XEditableTable',\n        // 'Table',\n        'XForm',\n        'XFormItem',\n        'XStepForms',\n        // 'SearchForm',\n        // 'Form',\n        // 'FormItem',\n      ],\n    },\n    {\n      title: '常用图表',\n      items: [\n        'ChartContainer',\n        'BarChart',\n        'LineChart',\n        'PieChart',\n        'FunnelChart',\n        'ScatterChart',\n        'RadarChart',\n        'WordCloud',\n      ],\n    },\n    {\n      title: '导航',\n      items: [\n        'Breadcrumb',\n        'Dropdown',\n        'Menu',\n        // 'PageHeader',\n        'Pagination',\n        'Steps',\n      ],\n    },\n    {\n      title: '数据录入',\n      items: [\n        'AutoComplete',\n        'Cascader',\n        'Checkbox',\n        'CheckboxGroup',\n        'DatePicker',\n        'DateRangePicker',\n        'WeekPicker',\n        'MonthPicker',\n        'YearPicker',\n        'Input',\n        'InputNumber',\n        'InputKV',\n        'Mentions',\n        'Radio',\n        'RadioGroup',\n        'Rate',\n        'Select',\n        'Slider',\n        'Switch',\n        'Search',\n        'TextArea',\n        'TimePicker',\n        'TimeRangePicker',\n        'Transfer',\n        'TreeSelect',\n        'Upload',\n        'NosUpload',\n      ],\n    },\n    {\n      title: '数据展示',\n      items: [\n        'Avatar',\n        'Badge',\n        'RibbonBadge',\n        'Calendar',\n        'Card',\n        'Carousel',\n        'Collapse',\n        'Comment',\n        'Descriptions',\n        'Empty',\n        'Image',\n        'List',\n        'Popover',\n        'Statistic',\n        'Table',\n        'Tag',\n        'CheckableTag',\n        'Skeleton',\n        'SkeletonAvatar',\n        'SkeletonButton',\n        'SkeletonInput',\n        'SkeletonImage',\n        'SkeletonNode',\n        'Spin',\n        'Timeline',\n        'Tooltip',\n        'Tree',\n      ],\n    },\n    {\n      title: '反馈',\n      items: [\n        'Alert',\n        'Drawer',\n        // 'Message',\n        'Modal',\n        'Notification',\n        'Popconfirm',\n        'Progress',\n        'Result',\n      ],\n    },\n  ],\n};\n","import React from 'react';\n\nexport function FooSetter({ value, ...rest }: any) {\n  return <code {...rest}>fooSetter: {value}</code>;\n}\n","const packageJson = {\n  name: 'demo',\n  private: true,\n  dependencies: {\n    '@music163/tango-mail': '0.1.1',\n    '@music163/tango-boot': '0.2.5',\n    react: '17.0.2',\n    'react-dom': '17.0.2',\n    'prop-types': '15.7.2',\n    tslib: '2.5.0',\n  },\n};\n\nconst tangoConfigJson = {\n  designerConfig: {\n    autoGenerateComponentId: true,\n  },\n  packages: {\n    react: {\n      version: '17.0.2',\n      library: 'React',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react@{{version}}/umd/react.development.js'],\n    },\n    'react-dom': {\n      version: '17.0.2',\n      library: 'ReactDOM',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react-dom@{{version}}/umd/react-dom.development.js'],\n    },\n    'react-is': {\n      version: '16.13.1',\n      library: 'ReactIs',\n      type: 'dependency',\n      resources: ['https://unpkg.com/react-is@{{version}}/umd/react-is.production.min.js'],\n    },\n    '@music163/tango-boot': {\n      description: '云音乐低代码运行时框架',\n      version: '0.2.5',\n      library: 'TangoBoot',\n      type: 'baseDependency',\n      resources: ['https://unpkg.com/@music163/tango-boot@{{version}}/dist/boot.js'],\n      // resources: ['http://localhost:9001/boot.js'],\n    },\n    '@music163/tango-mail': {\n      description: 'TangoMail 基础物料',\n      version: '0.1.1',\n      library: 'TangoMail',\n      type: 'baseDependency',\n      resources: ['https://unpkg.com/@music163/tango-mail@{{version}}/dist/index.js'],\n      designerResources: ['https://unpkg.com/@music163/tango-mail@{{version}}/dist/designer.js'],\n    },\n  },\n};\n\nconst routesCode = `\nimport Mail from \"./pages/mail\";\n\nconst routes = [\n  {\n    path: '/',\n    exact: true,\n    component: Mail,\n  },\n];\n\nexport default routes;\n`;\n\nconst entryCode = `\nimport { runApp } from '@music163/tango-boot';\nimport routes from './routes';\n\nrunApp({\n  boot: {\n    mountElement: document.querySelector('#root'),\n    qiankun: false,\n  },\n\n  router: {\n    type: 'browser',\n    config: routes,\n  },\n});\n`;\n\nconst viewHomeCode = `\nimport React from 'react';\nimport {\n  Body,\n  Button,\n  Container,\n  Head,\n  Hr,\n  Html,\n  Preview,\n  Section,\n  Text,\n} from '@music163/tango-mail';\n\nconst WelcomeEmail = () => (\n  <Html>\n    <Head />\n    <Preview>The sales intelligence platform that helps you uncover qualified leads.</Preview>\n    <Body style={main}>\n      <Container style={container}>\n        <Text style={paragraph}>Hi wells,</Text>\n        <Text style={paragraph}>\n          Welcome to Koala, the sales intelligence platform that helps you uncover qualified leads\n          and close deals faster.\n        </Text>\n        <Section style={btnContainer}>\n          <Button style={button} href=\"https://getkoala.com\">\n            Get started\n          </Button>\n        </Section>\n        <Text style={paragraph}>\n          Best,\n          <br />\n          The Koala team\n        </Text>\n        <Hr style={hr} />\n        <Text style={footer}>470 Noor Ave STE B #1148, South San Francisco, CA 94080</Text>\n      </Container>\n    </Body>\n  </Html>\n);\n\nconst main = {\n  backgroundColor: '#ffffff',\n  fontFamily:\n    '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n};\n\nconst container = {\n  margin: '0 auto',\n  padding: '20px 0 48px',\n};\n\nconst paragraph = {\n  fontSize: '16px',\n  lineHeight: '26px',\n};\n\nconst btnContainer = {\n  textAlign: 'center',\n};\n\nconst button = {\n  backgroundColor: '#5F51E8',\n  borderRadius: '3px',\n  color: '#fff',\n  fontSize: '16px',\n  textDecoration: 'none',\n  textAlign: 'center',\n  display: 'block',\n  padding: '12px',\n};\n\nconst hr = {\n  borderColor: '#cccccc',\n  margin: '20px 0',\n};\n\nconst footer = {\n  color: '#8898aa',\n  fontSize: '12px',\n};\n\nexport default WelcomeEmail;\n`;\n\nexport const mailFiles = [\n  { filename: '/package.json', code: JSON.stringify(packageJson) },\n  { filename: '/tango.config.json', code: JSON.stringify(tangoConfigJson) },\n  { filename: '/README.md', code: '# readme' },\n  { filename: '/src/index.js', code: entryCode },\n  { filename: '/src/pages/mail.js', code: viewHomeCode },\n  { filename: '/src/routes.js', code: routesCode },\n];\n","import React, { useState } from 'react';\nimport { Box } from 'coral-system';\nimport { Button, Space } from 'antd';\nimport {\n  Designer,\n  DesignerPanel,\n  SettingPanel,\n  Sidebar,\n  Toolbar,\n  WorkspacePanel,\n  WorkspaceView,\n  CodeEditor,\n  Sandbox,\n  DndQuery,\n  themeLight,\n} from '@music163/tango-designer';\nimport { createEngine, Workspace } from '@music163/tango-core';\nimport { Logo, ProjectDetail, bootHelperVariables } from '@/helpers';\nimport {\n  AppstoreAddOutlined,\n  BuildOutlined,\n  ClusterOutlined,\n  createFromIconfontCN,\n} from '@ant-design/icons';\nimport { mailFiles } from '@/helpers/mail-files';\n\n// 1. 实例化工作区\nconst workspace = new Workspace({\n  entry: '/src/index.js',\n  files: mailFiles,\n});\n\n// 2. 引擎初始化\nconst engine = createEngine({\n  workspace,\n});\n\n// @ts-ignore\nwindow.__mailWorkspace__ = workspace;\n\n// 3. 沙箱初始化\nconst sandboxQuery = new DndQuery({\n  context: 'iframe',\n});\n\n// 4. 图标库初始化（物料面板和组件树使用了 iconfont 里的图标）\ncreateFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/c/font_2891794_cou9i7556tl.js',\n});\n\n/**\n * 5. 平台初始化，访问 https://local.netease.com:6006/\n */\nexport default function App() {\n  const [menuLoading, setMenuLoading] = useState(true);\n  const [menuData, setMenuData] = useState(false);\n  return (\n    <Designer\n      theme={themeLight}\n      engine={engine}\n      config={{\n        customActionVariables: bootHelperVariables,\n        customExpressionVariables: bootHelperVariables,\n      }}\n      sandboxQuery={sandboxQuery}\n    >\n      <DesignerPanel\n        logo={<Logo />}\n        description={<ProjectDetail />}\n        actions={\n          <Box px=\"l\">\n            <Toolbar>\n              <Toolbar.Item key=\"history\" placement=\"left\" />\n              <Toolbar.Item key=\"preview\" placement=\"left\" />\n              <Toolbar.Item key=\"modeSwitch\" placement=\"right\" />\n              <Toolbar.Item key=\"togglePanel\" placement=\"right\" />\n              <Toolbar.Separator />\n              <Toolbar.Item placement=\"right\">\n                <Space>\n                  <Button type=\"primary\">发布</Button>\n                </Space>\n              </Toolbar.Item>\n            </Toolbar>\n          </Box>\n        }\n      >\n        <Sidebar>\n          <Sidebar.Item\n            key=\"components\"\n            label=\"组件\"\n            icon={<AppstoreAddOutlined />}\n            widgetProps={{\n              menuData: menuData as any,\n              loading: menuLoading,\n            }}\n          />\n          <Sidebar.Item key=\"outline\" label=\"结构\" icon={<BuildOutlined />} />\n          <Sidebar.Item\n            key=\"dependency\"\n            label=\"依赖\"\n            icon={<ClusterOutlined />}\n            isFloat\n            width={800}\n          />\n        </Sidebar>\n        <WorkspacePanel>\n          <WorkspaceView mode=\"design\">\n            <Sandbox\n              onMessage={(e) => {\n                if (e.type === 'done') {\n                  const sandboxWindow: any = sandboxQuery.window;\n                  if (sandboxWindow.TangoMail) {\n                    if (sandboxWindow.TangoMail.menuData) {\n                      setMenuData(sandboxWindow.TangoMail.menuData);\n                    }\n                    if (sandboxWindow.TangoMail.prototypes) {\n                      workspace.setComponentPrototypes(sandboxWindow.TangoMail.prototypes);\n                    }\n                  }\n                  setMenuLoading(false);\n                }\n              }}\n              navigatorExtra={<Button size=\"small\">hello world</Button>}\n            />\n          </WorkspaceView>\n          <WorkspaceView mode=\"code\">\n            <CodeEditor />\n          </WorkspaceView>\n        </WorkspacePanel>\n        <SettingPanel />\n      </DesignerPanel>\n    </Designer>\n  );\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["sampleFiles","filename","code","JSON","stringify","name","private","dependencies","react","tslib","designerConfig","autoGenerateComponentId","packages","version","library","type","resources","moment","description","designerResources","bootHelperVariables","key","title","children","help","Logo","_jsx","Box","width","display","alignItems","justifyContent","fontSize","MenuOutlined","ProjectDetail","_ref","_jsxs","columnGap","className","fontWeight","as","BranchesOutlined","registerSetter","component","value","rest","_objectWithoutProperties","_excluded","_objectSpread","mailFiles","workspace","Workspace","entry","files","engine","createEngine","window","__mailWorkspace__","sandboxQuery","DndQuery","context","App","_useState","useState","_useState2","_slicedToArray","menuLoading","setMenuLoading","_useState3","_useState4","menuData","setMenuData","Designer","theme","themeLight","config","customActionVariables","customExpressionVariables","DesignerPanel","logo","actions","px","Toolbar","Item","placement","Separator","Space","Button","Sidebar","label","icon","AppstoreAddOutlined","widgetProps","loading","BuildOutlined","ClusterOutlined","isFloat","WorkspacePanel","WorkspaceView","mode","Sandbox","onMessage","e","sandboxWindow","TangoMail","prototypes","setComponentPrototypes","navigatorExtra","size","CodeEditor","SettingPanel","createFromIconfontCN","scriptUrl","module","exports","arr","Array","isArray","__esModule","r","l","t","Symbol","iterator","n","i","u","a","f","o","call","next","Object","done","push","length","TypeError","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest"],"sourceRoot":""}