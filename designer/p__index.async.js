"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[866],{43938:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var o=t(27424),s=t.n(o),r=t(87363),a=t(62979),i=t(81821),c=t(98490),l=t(26898),p=t(60532),m=t(65184),d=t(42122),u=t.n(d),f=t(70215),g=t.n(f),x=t(86074),y=["value"];var h=[{filename:"/package.json",code:JSON.stringify({name:"demo",private:!0,dependencies:{"@music163/antd":"0.2.1","@music163/tango-boot":"0.2.5",react:"17.0.2","react-dom":"17.0.2","prop-types":"15.7.2",tslib:"2.5.0"}})},{filename:"/tango.config.json",code:JSON.stringify({designerConfig:{autoGenerateComponentId:!0},packages:{react:{version:"17.0.2",library:"React",type:"dependency",resources:["https://unpkg.com/react@{{version}}/umd/react.development.js"]},"react-dom":{version:"17.0.2",library:"ReactDOM",type:"dependency",resources:["https://unpkg.com/react-dom@{{version}}/umd/react-dom.development.js"]},"react-is":{version:"16.13.1",library:"ReactIs",type:"dependency",resources:["https://unpkg.com/react-is@{{version}}/umd/react-is.production.min.js"]},"styled-components":{version:"5.3.5",library:"styled",type:"dependency",resources:["https://unpkg.com/styled-components@{{version}}/dist/styled-components.min.js"]},moment:{version:"2.29.4",library:"moment",type:"dependency",resources:["https://unpkg.com/moment@{{version}}/moment.js"]},"@music163/tango-boot":{description:"云音乐低代码运行时框架",version:"0.2.5",library:"TangoBoot",type:"baseDependency",resources:["https://unpkg.com/@music163/tango-boot@{{version}}/dist/boot.js"]},"@music163/antd":{description:"云音乐低代码中后台应用基础物料",version:"0.2.1",library:"TangoAntd",type:"baseDependency",resources:["https://unpkg.com/@music163/antd@{{version}}/dist/index.js","https://unpkg.com/antd@4.24.13/dist/antd.css"],designerResources:["https://unpkg.com/@music163/antd@{{version}}/dist/designer.js","https://unpkg.com/antd@4.24.13/dist/antd.css"]}}})},{filename:"/README.md",code:"# readme"},{filename:"/src/index.less",code:"\nbody {\n  font-size: 12px;\n}\n"},{filename:"/src/style.css",code:"\n* {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  color: red;\n}\n"},{filename:"/src/index.js",code:"\nimport { runApp } from '@music163/tango-boot';\nimport routes from './routes';\nimport './services';\nimport './stores';\nimport './index.less';\n\nrunApp({\n  boot: {\n    mountElement: document.querySelector('#root'),\n    qiankun: false,\n  },\n\n  router: {\n    type: 'browser',\n    config: routes,\n  },\n});\n"},{filename:"/src/pages/index.js",code:'\nimport React from "react";\nimport { definePage } from "@music163/tango-boot";\nimport {\n  Page,\n  Section,\n  Button,\n  Input,\n  FormilyForm,\n} from "@music163/antd";\nimport { Space } from \'@music163/antd\';\nimport { LocalButton } from \'../components\';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Page title={tango.stores.app.title}>\n       <Section tid="section1" title="Section Title">\n        your input: <Input tid="input1" defaultValue="hello" />\n        copy input: <Input value={tango.page.input1?.value} />\n       </Section>\n       <Section tid="section2">\n       <Space tid="space1">\n          <LocalButton />\n          <Button tid="button1">button</Button>\n          </Space>\n        </Section>\n      </Page>\n    );\n  }\n}\n\nexport default definePage(App);\n'},{filename:"/src/components/button.js",code:"\nimport React from 'react';\nimport { registerComponentPrototype } from '../utils';\n\nexport default function MyButton(props) {\n  return <button {...props}>my button</button>\n}\n\nregisterComponentPrototype({\n  name: 'LocalButton',\n  title: 'Local Button',\n  exportType: 'namedExport',\n  package: '/src/components',\n  props: [\n    { name: 'background', title: '背景色', setter: 'colorSetter'  },\n  ],\n});\n"},{filename:"/src/components/input.js",code:"\nimport React from 'react';\nimport { registerComponentPrototype } from '../utils';\n\nexport default function MyInput(props) {\n  return <input {...props} />;\n}\n\nregisterComponentPrototype({\n  name: 'LocalInput',\n  title: 'Local Input',\n  exportType: 'namedExport',\n  package: '/src/components',\n  props: [\n    { name: 'color', title: '文本色', setter: 'colorSetter'  },\n  ],\n});\n"},{filename:"/src/components/index.js",code:"\nexport { default as LocalButton } from './button';\nexport { default as LocalInput } from './input';\n"},{filename:"/src/routes.js",code:"\nimport Index from \"./pages/index\";\n\nconst routes = [\n  {\n    path: '/',\n    exact: true,\n    component: Index\n  },\n];\n\nexport default routes;\n"},{filename:"/src/stores/index.js",code:"\nexport { default as app } from './app';\nexport { default as counter } from './counter';\n"},{filename:"/src/stores/app.js",code:"\nimport { defineStore } from '@music163/tango-boot';\n\nexport default defineStore({\n\n  title: 'Page Title',\n\n  array: [1, 2, 3],\n\n  test: function() {\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n    console.log('test');\n  }\n}, 'app');\n"},{filename:"/src/stores/counter.js",code:"\nimport { defineStore } from '@music163/tango-boot';\n\nconst counter = defineStore({\n  // state\n  num: 0,\n\n  // action\n  increment: () => counter.num++,\n\n  decrement: () => {\n    counter.num--;\n  },\n}, 'counter');\n\nexport default counter;\n"},{filename:"/src/services/index.js",code:"\nimport { defineServices } from '@music163/tango-boot';\nimport './sub';\n\nexport default defineServices({\n  longLongLongLongLongLongLongLongGet: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/cc974ffbaa7a85c77f30e4ce67deb67f/api/getUserProfile',\n    formatter: res => res.data,\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  },\n  get: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/cc974ffbaa7a85c77f30e4ce67deb67f/api/getUserProfile',\n    formatter: res => res.data,\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  },\n  list: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/anchor-list-normal',\n  },\n  add: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users',\n    method: 'post',\n  },\n  update: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users',\n    method: 'post',\n  },\n  delete: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/api/users?id=1',\n  },\n});\n"},{filename:"/src/services/sub.js",code:"\nimport { defineServices } from '@music163/tango-boot';\n\nexport default defineServices({\n  list: {\n    url: 'https://nei.hz.netease.com/api/apimock-v2/c45109399a1d33d83e32a59984b25b00/anchor-list-normal',\n  },\n}, {\n  namespace: 'sub',\n});\n"},{filename:"/src/utils/index.js",code:"\nexport function registerComponentPrototype(proto) {\n  if (!proto) return;\n  if (!window.localTangoComponentPrototypes) {\n    window.localTangoComponentPrototypes = {};\n  }\n  if (proto.name) {\n    window.localTangoComponentPrototypes[proto.name] = proto;\n  }\n}\n"}],b=[{key:"$helpers",title:"工具函数",children:[{title:"设置变量值",key:'() => tango.setStoreValue("variableName", "variableValue")',type:"function",help:'设置状态值，tango.setStoreValue("variableName", "variableValue")'},{title:"获取变量值",key:'() => tango.getStoreValue("variableName")',type:"function",help:"获取状态值"},{title:"打开弹窗",key:'() => tango.openModal("")',type:"function"},{title:"关闭弹窗",key:'() => tango.closeModal("")',type:"function"},{title:"切换路由",key:'() => tango.navigateTo("/")',type:"function"},{title:"拷贝到剪贴板",key:'() => tango.copyToClipboard("hello")',type:"function"}]}];function j(){return(0,x.jsx)(a.xu,{width:"50px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",children:(0,x.jsx)(p.Z,{})})}function v(e){var n=e.name;return(0,x.jsxs)(a.xu,{display:"flex",alignItems:"center",columnGap:"l",children:[(0,x.jsx)(a.xu,{className:"ProjectName",fontSize:"18px",fontWeight:"bold",children:"Tango Playground"}),(0,x.jsxs)(a.xu,{className:"BranchName",as:"code",fontSize:"14px",children:[(0,x.jsx)(m.Z,{})," ",n||"demo"]})]})}(0,c.qX)({name:"fooSetter",component:function(e){var n=e.value,t=g()(e,y);return(0,x.jsxs)("code",u()(u()({},t),{},{children:["fooSetter: ",n]}))}});var S,k,w,P,I=t(91321),T=t(56466),C=t(50067),B=t(10620),L=t(36027),E=t(40717),A=t(861),z=t.n(A),R=["files"],N={example:(S={title:"Example",files:[{filename:"/src/pages/index.js",code:'import React from "react";\nimport { definePage } from "@music163/tango-boot";\nimport {\n  Button,\n  Input\n} from "@music163/antd";\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <Button>Hello World!</Button>\n        <Input placeholder="This is example demo" />\n      </div>\n    );\n  }\n}\nexport default definePage(App);'}]},k=S.files,w=g()(S,R),P=h.filter((function(e){return null==k?void 0:k.every((function(n){return n.filename!==e.filename}))})),P.push.apply(P,z()(k)),u()(u()({},w),{},{files:P}))},D=t(41777),M=new l.j$({entry:"/src/index.js",files:h}),V=(0,l.r)({workspace:M});window.__workspace__=M;var Z=new c.Bz({context:"iframe"});function F(){var e,n=(0,r.useState)(!0),t=s()(n,2),o=t[0],l=t[1],p=(0,r.useState)(!1),m=s()(p,2),d=m[0],u=m[1],f=(0,D.TH)(),g=(0,D.bS)({path:"/:name"}),y=(0,r.useMemo)((function(){var e,n;return null!=g&&null!==(e=g.params)&&void 0!==e&&e.name?null==g||null===(n=g.params)||void 0===n?void 0:n.name:new URLSearchParams(f.search).get("name")||void 0}),[null==g?void 0:g.params,f.search]);return(0,r.useEffect)((function(){var e,n;y&&N[y]&&(null===(e=N[y])||void 0===e||null===(e=e.files)||void 0===e||null===(n=e.forEach)||void 0===n||n.call(e,(function(e){M.addFile(e.filename,e.code)})))}),[y]),(0,x.jsx)(c.lg,{theme:c.Qp,engine:V,config:{customActionVariables:b,customExpressionVariables:b},sandboxQuery:Z,children:(0,x.jsxs)(c.Ab,{logo:(0,x.jsx)(j,{}),description:(0,x.jsx)(v,{name:y&&N[y]&&((null===(e=N[y])||void 0===e?void 0:e.title)||y)}),actions:(0,x.jsx)(a.xu,{px:"l",children:(0,x.jsxs)(c.o8,{children:[(0,x.jsx)(c.o8.Item,{placement:"left"},"routeSwitch"),(0,x.jsx)(c.o8.Item,{placement:"left"},"history"),(0,x.jsx)(c.o8.Item,{placement:"left"},"preview"),(0,x.jsx)(c.o8.Item,{placement:"right"},"modeSwitch"),(0,x.jsx)(c.o8.Item,{placement:"right"},"togglePanel"),(0,x.jsx)(c.o8.Separator,{}),(0,x.jsx)(c.o8.Item,{placement:"right",children:(0,x.jsx)(i.Space,{children:(0,x.jsx)(i.Button,{type:"primary",children:"发布"})})})]})}),children:[(0,x.jsxs)(c.YE,{children:[(0,x.jsx)(c.YE.Item,{label:"组件",icon:(0,x.jsx)(T.Z,{}),widgetProps:{menuData:d,loading:o}},"components"),(0,x.jsx)(c.YE.Item,{label:"结构",icon:(0,x.jsx)(C.Z,{})},"outline"),(0,x.jsx)(c.YE.Item,{label:"变量",icon:(0,x.jsx)(B.Z,{}),isFloat:!0,width:800},"variables"),(0,x.jsx)(c.YE.Item,{label:"接口",icon:(0,x.jsx)(L.Z,{}),isFloat:!0,width:800},"dataSource"),(0,x.jsx)(c.YE.Item,{label:"依赖",icon:(0,x.jsx)(E.Z,{}),isFloat:!0,width:800},"dependency")]}),(0,x.jsxs)(c.qs,{children:[(0,x.jsx)(c.Jd,{mode:"design",children:(0,x.jsx)(c.pv,{bundlerURL:"https://tango-demo.musicfe.com",onMessage:function(e){if("done"===e.type){var n=Z.window;n.TangoAntd&&(n.TangoAntd.menuData&&u(n.TangoAntd.menuData),n.TangoAntd.prototypes&&M.setComponentPrototypes(n.TangoAntd.prototypes)),n.localTangoComponentPrototypes&&M.setComponentPrototypes(n.localTangoComponentPrototypes),l(!1)}},navigatorExtra:(0,x.jsx)(i.Button,{size:"small",children:"hello world"})})}),(0,x.jsx)(c.Jd,{mode:"code",children:(0,x.jsx)(c.pq,{})})]}),(0,x.jsx)(c.TD,{})]})})}(0,I.Z)({scriptUrl:"//at.alicdn.com/t/c/font_2891794_cou9i7556tl.js"})}}]);
//# sourceMappingURL=p__index.async.js.map